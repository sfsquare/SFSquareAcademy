
@{
    EMPLOYEE employee = (EMPLOYEE)ViewData["employee"];
    IEnumerable<INDIVIDUAL_PAYSLIP_CATGEORY> new_payslip_category = (IEnumerable<INDIVIDUAL_PAYSLIP_CATGEORY>)ViewData["new_payslip_category"];
    IEnumerable<INDIVIDUAL_PAYSLIP_CATGEORY> individual = (IEnumerable<INDIVIDUAL_PAYSLIP_CATGEORY>)ViewData["individual"];
}
<script type="text/javascript" language="javascript">
    //Very similar function as before (except this time with an argument)
    function LoadUserEditPartialPage(sender) {
        $(".LoaderBox").show();
        /* Request the partial view with .get request. */
        $.get(sender, function (data) {

            /* data is the pure html returned from action method, load it to your page */
            $('#payslip-category-form').html(data);
            /* little fade in effect */
            $('#payslip-category-form').fadeIn('fast');
        }).success(function (status) {
            $(".LoaderBox").hide();
        });
    }

</script>

@if ((new_payslip_category != null && new_payslip_category.Count() != 0) || (individual != null && individual.Count() != 0))
{
    <div id="list-payslip-category">
        @Html.Partial("_List_Payslip_Category")
    </div>
}


<div class="extender"></div>
<div id="add-payslip-category-link">
    <a href="@Url.Action("Add_Payslip_Category", "Employee", new { emp_id = employee.ID, salary_date = ViewBag.salary_date, CallingAction = ViewBag.CallingAction })" class="user_button" id="General" onclick='LoadUserEditPartialPage(this.href); return false;'>Add New Category</a>
    <div class="LoaderBox" hidden="hidden"><img src="~/Content/images/loader.gif" id="loader" alt="Finance Logo" style="align-self:center; border:none"></div>
</div>

<div id="payslip-category-form"> </div>
